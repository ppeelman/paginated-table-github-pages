(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports={Container:"ArtDetail_Container__39abP",Line:"ArtDetail_Line__1RE_k",GoBackButton:"ArtDetail_GoBackButton__F4nrd",Loading:"ArtDetail_Loading__Uio3Y",PaintingContainer:"ArtDetail_PaintingContainer__19QLk",PaintingImage:"ArtDetail_PaintingImage__1hI_y",Metadata:"ArtDetail_Metadata__2Ff01",Top:"ArtDetail_Top__2BiTn",Bottom:"ArtDetail_Bottom__2hrdP",Details:"ArtDetail_Details__1WXcA",Description:"ArtDetail_Description__3UcLd"}},43:function(e,t,a){e.exports={Hero:"Header_Hero__2MC43",HeaderText:"Header_HeaderText__CftyV",subTitle:"Header_subTitle__PedGy",mainTitle:"Header_mainTitle__212xq"}},55:function(e,t,a){e.exports={Layout:"Layout_Layout__17SGA",Header:"Layout_Header__3Ur6c",Main:"Layout_Main__PDHBO"}},70:function(e,t,a){e.exports=a(93)},79:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),c=a.n(i),o=a(41),l=a(29),u=a(37),s=a(64),m=a(25),p={artList:{},error:null,loading:!1,currentPage:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_ALL_START":return function(e,t){return Object(m.a)({},e,{loading:!0})}(e);case"LIST_ALL_SUCCESS":return function(e,t){return Object(m.a)({},e,{loading:!1,artList:Object.assign(e.artList,t.artList),error:null,currentPage:t.pageNumber})}(e,t);case"LIST_ALL_FAIL":return function(e,t){return Object(m.a)({},e,{loading:!1,error:t.error})}(e,t);default:return e}},h=a(32),f={artDetail:{},error:null,loading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ART_DETAIL_START":return function(e,t){return Object(m.a)({},e,{loading:!0})}(e);case"GET_ART_DETAIL_SUCCESS":return function(e,t){return Object(m.a)({},e,{artDetail:Object.assign(e.artDetail,Object(h.a)({},t.artDetail.objectNumber,t.artDetail)),loading:!1,error:null})}(e,t);case"GET_ART_DETAIL_FAIL":return function(e,t){return Object(m.a)({},e,{loading:!1,error:t.error})}(e,t);default:return e}},_=(a(79),a(28)),b=a(55),E=a.n(b),v=function(e){var t=e.header,a=e.children;return r.a.createElement("div",{className:E.a.Layout},r.a.createElement("header",{className:E.a.Header},t),r.a.createElement("main",{className:E.a.Main},a))},L=a(43),j=a.n(L),A=function(){return r.a.createElement("div",{className:j.a.Hero},r.a.createElement("h1",{className:j.a.HeaderText},r.a.createElement("span",{className:j.a.subTitle},"Top works"),r.a.createElement("span",{className:j.a.mainTitle},"Rijksmuseum")))},T=a(33),y=a(23),D=a(38),I=a(34),k=a(18),C=a(39),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(a){a({type:"LIST_ALL_START"});var n=e+1,r="https://www.rijksmuseum.nl/api/".concat("en","/collection?key=").concat("7oyCH049","&format=json&ps=").concat(t,"&p=").concat(n,"&toppieces=True");fetch(r).then(function(e){return e.json()}).then(function(t){return t.artObjects.map(function(t){var a=t.objectNumber,n=t.title,r=t.principalOrFirstMaker,i=t.webImage;return{pageNumber:e,objectNumber:a,title:n,artist:r,preview:i.url?i.url.replace("s0","s50"):null}})}).then(function(t){a(function(e,t){return{type:"LIST_ALL_SUCCESS",artList:Object(h.a)({},e,t),pageNumber:e}}(e,t))}).catch(function(e){return a(function(e){return{type:"LIST_ALL_FAIL",error:e}}(e))})}},N=a(125),w=function(e){function t(){return Object(T.a)(this,t),Object(D.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.itemInCache()||this.fetchResources()}},{key:"componentDidUpdate",value:function(e,t){this.props.loading||this.itemInCache()||this.fetchResources()}},{key:"fetchResources",value:function(){this.props.fetchFunction()}},{key:"getResourceFromCache",value:function(){return this.props.dataLocation}},{key:"itemInCache",value:function(){return void 0!==this.getResourceFromCache()}},{key:"render",value:function(){var e=r.a.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center",marginTop:"5rem"}},r.a.createElement(N.a,{size:100}));return this.itemInCache()&&(e=this.props.render(this.getResourceFromCache())),this.props.error&&(e=r.a.createElement("p",null,this.props.error.message)),e}}]),t}(n.Component),P=a(129),S=a(130),H=a(131),R=a(132),x=a(128),B=a(127),F=a(133),G=a(135);var M=function(e){var t=e.artList,a=e.pageIndex,n=e.rowClicked,i=e.paginationClicked,c=["Thumbnail","Title","Artist"].map(function(e){return r.a.createElement(B.a,{key:e,style:{color:"white"}},e)}),o=t.filter(function(e){return e.pageNumber===a}).map(function(e){e.pageNumber;var t=e.objectNumber,a=e.preview,i=e.title,c=e.artist;return r.a.createElement(x.a,{hover:!0,key:t,onClick:function(){return n(t)},style:{cursor:"pointer"}},r.a.createElement(B.a,null,a?r.a.createElement("img",{src:a,alt:"Preview of ".concat(i," by ").concat(c)}):null),r.a.createElement(B.a,{style:{fontWeight:"300"}},i),r.a.createElement(B.a,{style:{fontWeight:"300"}},c))});return r.a.createElement(P.a,null,r.a.createElement(S.a,null,r.a.createElement(H.a,{style:{backgroundColor:"#0d47a1"}},r.a.createElement(x.a,null,c)),r.a.createElement(R.a,null,o),r.a.createElement(F.a,null,r.a.createElement(x.a,null,r.a.createElement(G.a,{page:a,rowsPerPage:10,count:670920,rowsPerPageOptions:[],onChangePage:i})))))},U=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(D.a)(this,Object(I.a)(t).call(this,e))).ROWS_PER_PAGE=10,a.state={pageIndex:a.props.pageIndex||0},a.artItemClickedHandler=a.artItemClickedHandler.bind(Object(k.a)(a)),a.paginationHandler=a.paginationHandler.bind(Object(k.a)(a)),a}return Object(C.a)(t,e),Object(y.a)(t,[{key:"paginationHandler",value:function(e,t){this.setState({pageIndex:t})}},{key:"artItemClickedHandler",value:function(e){this.props.history.push("/collection/".concat(e))}},{key:"render",value:function(){var e=this;return r.a.createElement(w,{fetchFunction:function(){return e.props.getListArt(e.state.pageIndex,e.ROWS_PER_PAGE)},dataLocation:this.props.artList[this.state.pageIndex],render:function(t){return r.a.createElement(M,{artList:t,pageIndex:e.state.pageIndex,rowClicked:e.artItemClickedHandler,paginationClicked:e.paginationHandler})},error:this.props.error,loading:this.props.loading})}}]),t}(n.Component),W=Object(u.b)(function(e){return{loading:e.listArt.loading,artList:e.listArt.artList,error:e.listArt.error,pageIndex:e.listArt.currentPage}},function(e){return{getListArt:function(t,a){return e(O(t,a))}}})(U),J=function(e){e.children;var t=e.routeProps;return r.a.createElement(v,{header:r.a.createElement(A,null)},r.a.createElement(W,t))},q=a(134),z=a(21),Q=a.n(z),V=r.a.forwardRef(function(e,t){return r.a.createElement(o.b,Object.assign({innerRef:t},e))}),X=function(e){var t=e.artist,a=e.title,n=e.detail,i=e.description,c=e.image;return r.a.createElement("div",{className:Q.a.Container},r.a.createElement(q.a,{variant:"contained",color:"primary",component:V,to:"/",className:Q.a.GoBackButton},"Back"),r.a.createElement("div",{className:Q.a.Line}),r.a.createElement("div",{className:Q.a.Metadata},r.a.createElement("div",{className:Q.a.Top},r.a.createElement("h2",null,t),r.a.createElement("h1",null,a)),r.a.createElement("div",{className:Q.a.Bottom},r.a.createElement("p",{className:Q.a.Details},n),r.a.createElement("p",{className:Q.a.Description},i))),r.a.createElement("div",{className:Q.a.PaintingContainer},r.a.createElement("img",{className:Q.a.PaintingImage,src:c,alt:"Painting"})))},Y=function(e){function t(e){var a;Object(T.a)(this,t);var n=(a=Object(D.a)(this,Object(I.a)(t).call(this,e))).props.history.location.pathname.split("/");return a.objectNumber=n[n.length-1],a}return Object(C.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(w,{fetchFunction:function(){return e.props.getArtDetail(e.objectNumber)},dataLocation:this.props.artDetail[this.objectNumber],render:function(e){return r.a.createElement(X,e)},error:this.props.error,loading:this.props.loading})}}]),t}(n.Component),$=Object(u.b)(function(e){return{artDetail:e.artDetail.artDetail,loading:e.artDetail.loading,error:e.artDetail.error}},function(e){return{getArtDetail:function(t){return e(function(e){return function(t){t({type:"GET_ART_DETAIL_START"});var a="https://www.rijksmuseum.nl/api/".concat("en","/collection/").concat(e,"?key=").concat("7oyCH049","&format=json");fetch(a).then(function(e){return e.json()}).then(function(e){var t=e.artObject,a=t.objectNumber,n=t.title,r=t.principalMaker,i=t.description,c=t.subTitle,o=t.webImage.url;return{objectNumber:a,title:n,artist:r,detail:c,description:i,image:o?o.replace("s0","h500"):null}}).then(function(e){return t(function(e){return{type:"GET_ART_DETAIL_SUCCESS",artDetail:e}}(e))}).catch(function(e){return t(function(e){return{type:"GET_ART_DETAIL_FAIL",error:e}}(e))})}}(t))}}})(Y);var K=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_.c,null,r.a.createElement(_.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(J,{routeProps:e})}}),r.a.createElement(_.a,{path:"/collection/:objectNumber",exact:!0,component:$}),r.a.createElement(_.a,{render:function(e){return r.a.createElement(J,{routeProps:e})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Z=l.d,ee=Object(l.c)({listArt:d,artDetail:g}),te=Object(l.e)(ee,Z(Object(l.a)(s.a)));c.a.render(r.a.createElement(u.a,{store:te},r.a.createElement(o.a,null,r.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[70,1,2]]]);
//# sourceMappingURL=main.43421ca8.chunk.js.map